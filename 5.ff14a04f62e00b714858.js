(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{hC6b:function(t,e,i){"use strict";i.r(e),i.d(e,"ViajesModule",(function(){return U}));var n=i("ofXK"),a=i("tyNb"),r=i("H/Bl"),o=i("fXoL"),c=i("vycy"),s=i("0IaG"),l=i("AFqm");let b=(()=>{class t{constructor(t,e){this.el=t,this.renderer=e,this.c=this.el.nativeElement}ngOnChanges(){this.renderer.setStyle(this.c,"mix-blend-mode","luminosity"),this.renderer.setStyle(this.c,"color","white"),this.renderer.setStyle(this.c.parentElement,"background-color","#232323"),this.renderer.setStyle(this.c,"background-image",`url(${this.appBgImg})`),this.renderer.setStyle(this.c,"background-size","cover"),this.renderer.setStyle(this.c,"background-position","center")}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(o.l),o.Lb(o.F))},t.\u0275dir=o.Gb({type:t,selectors:[["","appBgImg",""]],inputs:{appBgImg:"appBgImg"},features:[o.yb]}),t})();var u=i("gbIM"),m=i("NFeN"),d=i("bTqV");function g(t,e){if(1&t){const t=o.Sb();o.Rb(0,"div",1),o.Rb(1,"div",2),o.Mb(2,"div",3),o.Qb(),o.Rb(3,"div",4),o.Rb(4,"div",5),o.Rb(5,"h1"),o.vc(6),o.Qb(),o.Rb(7,"p"),o.vc(8),o.Qb(),o.Qb(),o.Mb(9,"hr"),o.Rb(10,"div",6),o.Mb(11,"app-rating",7),o.Rb(12,"mat-icon",8),o.vc(13),o.Qb(),o.Qb(),o.Rb(14,"div",9),o.Rb(15,"h3"),o.Rb(16,"strong"),o.vc(17),o.Qb(),o.Qb(),o.Rb(18,"p"),o.vc(19),o.Qb(),o.Rb(20,"p"),o.vc(21," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore sequi illum distinctio rerum voluptate architecto suscipit inventore necessitatibus temporibus quisquam amet laudantium possimus id, vel veniam maiores error tenetur culpa nam odit. Hic, nostrum. Fuga eos nulla iusto quis vitae corporis repellendus accusamus. Exercitationem autem, tempore aliquam sequi ratione, mollitia fugiat dolorem possimus placeat, nesciunt voluptatibus voluptatum praesentium doloremque ex. "),o.Qb(),o.Qb(),o.Rb(22,"button",10),o.Xb("click",(function(){o.mc(t);const e=o.bc();return e.editarViaje(e.viaje)})),o.vc(23,"Editar"),o.Qb(),o.Rb(24,"button",11),o.Xb("click",(function(){o.mc(t);const e=o.bc();return e.borrarViaje(e.viaje.id)})),o.vc(25," Borrar "),o.Qb(),o.Qb(),o.Qb()}if(2&t){const t=o.bc();o.Ab(2),o.gc("appBgImg",t.viaje.img),o.Ab(4),o.wc(t.viaje.nombre),o.Ab(2),o.wc(t.viaje.tipo),o.Ab(3),o.gc("currentRating",t.viaje.rating),o.Ab(2),o.wc(2===t.viaje.estado?"lock":"lock_open"),o.Ab(4),o.wc(t.viaje.destino),o.Ab(2),o.xc("Plazas ",t.viaje.plazas,"")}}let p=(()=>{class t{constructor(t,e,i,n,a){this.router=t,this.vs=e,this.dialog=i,this.vui=n,this.route=a}ngOnInit(){this.cargarViaje()}editarViaje(t){this.dialog.open(r.a,{data:{viaje:t},width:"75%"}).afterClosed().subscribe(t=>this.cargarViaje())}cargarViaje(){this.route.params.subscribe(t=>{this.vs.getOne(t.id).subscribe(t=>{console.log(t),this.viaje=t})})}borrarViaje(t){this.vui.confirmUI().subscribe(e=>{e&&this.vs.deleteOne(t).subscribe(t=>{this.router.navigateByUrl("viajes"),this.vui.snackBarUI("Viaje Borrado")})})}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(a.b),o.Lb(c.a),o.Lb(s.b),o.Lb(l.a),o.Lb(a.a))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-viajes-detalle"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"bg-img"],[1,"img",3,"appBgImg"],[1,"content"],[1,"header"],[1,"subheader"],[3,"currentRating"],[1,"material-icons"],[1,"text"],["mat-button","",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&o.uc(0,g,26,7,"div",0),2&t&&o.gc("ngIf",e.viaje)},directives:[n.k,b,u.a,m.a,d.a],styles:["[_nghost-%COMP%]{padding-bottom:64px;display:block}.container[_ngcontent-%COMP%]{display:flex}.bg-img[_ngcontent-%COMP%]{width:300px}.bg-img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{height:300px;border-radius:6px 0 0 0}.content[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{padding:36px 35px 4px}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;color:#232323}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:16px 0}"]}),t})();var h=i("5dVO"),f=i("3Pt+"),v=i("Wp6s"),O=i("kmnG"),C=i("qFsG");function j(t,e){1&t&&(o.Rb(0,"mat-hint"),o.vc(1,"No se permiten tacos!!"),o.Qb())}let M=(()=>{class t{constructor(t){this.fb=t,this.filterResult=new o.o,this.form=t.group({search:["",this.validarTacos]}),this.form.controls.search.valueChanges.subscribe(t=>this.filterResult.emit(t))}validarTacos(t){if(["idiota","hijo puta","subnormal"].includes(t.value))return{taco:!0}}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(f.b))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-viajes-filter"]],outputs:{filterResult:"filterResult"},decls:7,vars:2,consts:[[1,"mat-elevation-z8"],[3,"formGroup"],["autocomplete","off","matInput","","formControlName","search","type","text","placeholder","Search","color","primary"],[4,"ngIf"],["matSuffix",""]],template:function(t,e){1&t&&(o.Rb(0,"mat-card",0),o.Rb(1,"form",1),o.Rb(2,"mat-form-field"),o.Mb(3,"input",2),o.uc(4,j,2,0,"mat-hint",3),o.Rb(5,"mat-icon",4),o.vc(6,"search"),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&t&&(o.Ab(1),o.gc("formGroup",e.form),o.Ab(3),o.gc("ngIf",null==e.form.controls.search.errors?null:e.form.controls.search.errors.taco))},directives:[v.a,f.m,f.i,f.e,O.c,C.a,f.a,f.h,f.d,n.k,m.a,O.h,O.f],styles:["mat-card[_ngcontent-%COMP%]{margin:72px auto 0;width:300px;border-radius:2px}mat-form-field[_ngcontent-%COMP%]{width:290px;justify-content:center}"]}),t})();var w=i("R0Ic");const R=Object(w.m)("flyInOut",[Object(w.j)("in",Object(w.k)({transform:"scale(1)"})),Object(w.l)(":enter",[Object(w.k)({transform:"scale(0)"}),Object(w.e)(200)]),Object(w.l)(":leave",[Object(w.e)(200,Object(w.k)({transform:"scale(1)"}))])]);var P=i("M9IT"),y=i("Dh3D"),_=i("+0xr");function Q(t,e){1&t&&(o.Rb(0,"th",14),o.vc(1,"Viaje"),o.Qb())}function x(t,e){if(1&t&&(o.Rb(0,"td",15),o.vc(1),o.Qb()),2&t){const t=e.$implicit;o.Ab(1),o.xc(" ",t.nombre," ")}}function k(t,e){1&t&&(o.Rb(0,"th",14),o.vc(1,"Destino"),o.Qb())}function L(t,e){if(1&t&&(o.Rb(0,"td",15),o.vc(1),o.Qb()),2&t){const t=e.$implicit;o.Ab(1),o.xc(" ",t.destino," ")}}function I(t,e){1&t&&(o.Rb(0,"th",14),o.vc(1,"Tipo"),o.Qb())}function S(t,e){if(1&t&&(o.Rb(0,"td",15),o.vc(1),o.Qb()),2&t){const t=e.$implicit;o.Ab(1),o.wc(t.tipo)}}function V(t,e){1&t&&(o.Rb(0,"th",14),o.vc(1,"Rating"),o.Qb())}function A(t,e){if(1&t&&(o.Rb(0,"td",15),o.Mb(1,"app-rating",16),o.Qb()),2&t){const t=e.$implicit;o.Ab(1),o.gc("currentRating",t.rating)}}function D(t,e){1&t&&o.Mb(0,"th",17)}function B(t,e){if(1&t){const t=o.Sb();o.Rb(0,"td",18),o.Rb(1,"button",19),o.Xb("click",(function(){o.mc(t);const i=e.$implicit;return o.bc().mostrar.emit(i.id)})),o.Rb(2,"mat-icon"),o.vc(3,"visibility"),o.Qb(),o.Qb(),o.Rb(4,"button",19),o.Xb("click",(function(){o.mc(t);const i=e.$implicit;return o.bc().editar.emit(i)})),o.Rb(5,"mat-icon"),o.vc(6,"edit"),o.Qb(),o.Qb(),o.Rb(7,"button",19),o.Xb("click",(function(){o.mc(t);const i=e.$implicit;return o.bc().borrar.emit(i.id)})),o.Rb(8,"mat-icon"),o.vc(9,"delete"),o.Qb(),o.Qb(),o.Qb()}}function F(t,e){1&t&&o.Mb(0,"tr",20)}function q(t,e){1&t&&o.Mb(0,"tr",21)}const z=function(){return[5,10,20]};let X=(()=>{class t{constructor(){this.displayedColumns=["nombre","destino","tipo","rating","actions"],this.mostrar=new o.o,this.borrar=new o.o,this.editar=new o.o}set viajesList(t){this.dataSource=new _.k(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-viajes-tabla"]],viewQuery:function(t,e){var i;1&t&&(o.yc(P.a,!0),o.yc(y.a,!0)),2&t&&(o.ic(i=o.Yb())&&(e.paginator=i.first),o.ic(i=o.Yb())&&(e.sort=i.first))},inputs:{viajesList:"viajesList"},outputs:{mostrar:"mostrar",borrar:"borrar",editar:"editar"},decls:20,vars:6,consts:[[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","destino"],["matColumnDef","tipo"],["matColumnDef","rating"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","align","right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"currentRating"],["mat-header-cell",""],["mat-cell","","align","right"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"table",1),o.Pb(2,2),o.uc(3,Q,2,0,"th",3),o.uc(4,x,2,1,"td",4),o.Ob(),o.Pb(5,5),o.uc(6,k,2,0,"th",3),o.uc(7,L,2,1,"td",4),o.Ob(),o.Pb(8,6),o.uc(9,I,2,0,"th",3),o.uc(10,S,2,1,"td",4),o.Ob(),o.Pb(11,7),o.uc(12,V,2,0,"th",3),o.uc(13,A,2,1,"td",4),o.Ob(),o.Pb(14,8),o.uc(15,D,1,0,"th",9),o.uc(16,B,10,0,"td",10),o.Ob(),o.uc(17,F,1,0,"tr",11),o.uc(18,q,1,0,"tr",12),o.Qb(),o.Mb(19,"mat-paginator",13),o.Qb()),2&t&&(o.gc("@flyInOut",void 0),o.Ab(1),o.gc("dataSource",e.dataSource),o.Ab(16),o.gc("matHeaderRowDef",e.displayedColumns),o.Ab(1),o.gc("matRowDefColumns",e.displayedColumns),o.Ab(1),o.gc("pageSizeOptions",o.hc(5,z)))},directives:[_.j,y.a,_.c,_.e,_.b,_.g,_.i,P.a,_.d,y.b,_.a,u.a,d.a,m.a,_.f,_.h],styles:["div[_ngcontent-%COMP%]{margin:24px auto 72px;width:80%}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}@media (max-width:700px){div[_ngcontent-%COMP%]{width:95%}}"],data:{animation:[R]}}),t})();const $=[{path:"",component:(()=>{class t{constructor(t,e,i,n,a){this.route=t,this.dialog=e,this.vs=i,this.vui=n,this.loaderService=a}ngOnInit(){this.loadViajes(),this.dialogRef=this.dialog.afterAllClosed.subscribe(()=>this.loadViajes())}loadViajes(){this.loaderService.showLoading(),this.vs.getAll().subscribe(t=>{this.viajesFiltered=t,this.viajesList=t,this.loaderService.hideLoading()})}filterList(t){var e;this.viajesFiltered=null===(e=this.viajesList)||void 0===e?void 0:e.filter(e=>{const i=t.trim().toLowerCase(),{nombre:n,destino:a,tipo:r}=e;return this.filtrify(n).startsWith(i)||this.filtrify(a).startsWith(i)||this.filtrify(r).startsWith(i)})}filtrify(t){return t.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}mostrarViaje(t){this.route.navigate(["viajes",t])}borrarViaje(t){this.vui.confirmUI().subscribe(e=>{e&&this.vs.deleteOne(t).subscribe(()=>{this.vui.snackBarUI("Viaje Borrado")})})}editarViaje(t){this.dialog.open(r.a,{data:{viaje:t},width:"75%"})}ngOnDestroy(){this.dialogRef.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(a.b),o.Lb(s.b),o.Lb(c.a),o.Lb(l.a),o.Lb(h.a))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-viajes-list"]],decls:2,vars:1,consts:[[3,"filterResult"],[3,"viajesList","mostrar","borrar","editar"]],template:function(t,e){1&t&&(o.Rb(0,"app-viajes-filter",0),o.Xb("filterResult",(function(t){return e.filterList(t)})),o.Qb(),o.Rb(1,"app-viajes-tabla",1),o.Xb("mostrar",(function(t){return e.mostrarViaje(t)}))("borrar",(function(t){return e.borrarViaje(t)}))("editar",(function(t){return e.editarViaje(t)})),o.Qb()),2&t&&(o.Ab(1),o.gc("viajesList",e.viajesFiltered))},directives:[M,X],styles:[".main[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr)}.main[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.main[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{padding:16px;font-weight:lighter;position:relative;height:50vh;transition:all .2s ease-in-out;cursor:pointer}.main[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover{transform:scale(1.03);-webkit-transform:scale(1.03)}.main[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#232323;padding:8px;opacity:.8;display:inline-block}.main[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.main[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-transform:uppercase;color:#232323;position:absolute;bottom:10px;font-weight:700;background-color:#fff;opacity:.7;padding:6px}.main[_ngcontent-%COMP%]   .horizontal[_ngcontent-%COMP%]{grid-column:span 2}.main[_ngcontent-%COMP%]   .vertical[_ngcontent-%COMP%]{grid-row:span 2}@media (max-width:1300px){.main[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width:900px){.main[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]}),t})()},{path:":id",component:p}];let H=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(e){return new(e||t)},imports:[[a.d.forChild($)],a.d]}),t})();var G=i("CV8k"),N=i("HUga");let U=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(e){return new(e||t)},imports:[[n.c,H,f.k,G.a,N.a]]}),t})()}}]);